Index: topics/Conditional_content.topic
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE topic SYSTEM \"https://resources.jetbrains.com/stardust/html-entities.dtd\">\n\n<topic xsi:noNamespaceSchemaLocation=\"https://helpserver.labs.jb.gg/help/schemas/mvp/topic.v2.xsd\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       title=\"Conditional content\"\n       id=\"Conditional_content\">\n\n    <p>Conditional content means you can include or exclude content depending on certain conditions.</p>\n    <p>For example:</p>\n        <list style=\"bullet\">\n            <li>Audience level</li>\n            <li>Product</li>\n            <li>Version</li>\n            <li>Platform or operation system</li>\n            <li>Output type</li>\n        </list>\n    <p>\n    In %instance%, you can use filters to specify whether a specific element, like a paragraph, a code snippet,\n        or a screenshot should or should not be included in a particular version of the documentation.\n    </p>\n    <procedure title=\"Filter by instance\" id=\"filter-by-instance\">\n        <step>\n            <p>\n                If you want to filter the content by the instance,\n                add the <code>instance</code> attribute to the tag and specify the instance IDs where the content should be displayed.\n                To exclude the element from a particular instance helps add <code>!</code> with an instance ID.\n                You can add the <code>if</code> tag to select specific portions of content that do not match tags.\n            </p>\n            <code style=\"block\" lang=\"XML\">\n                    <!--@formatter:off-->\n                    <![CDATA[\n                        <p>\n\n                        </p>\n                        <p>\n                            Place the caret at the desired symbol and press\n                            <shortcut key=\"GoTo\"/>.\n                        </p>\n                        <p product=\"ab,cd\">\n                            Alternatively, keeping\n                            <for product=\"!ab\">\n                                <shortcut>Ctrl</shortcut>\n                                (<shortcut>CMD</shortcut> for macOS)\n                            </for>\n                            <for product=\"cd\">\n                                <shortcut>CMD</shortcut>\n                            </for>\n                            pressed, hover your mouse pointer\n                            over the symbol.\n                        </p>\n                        ]]>\n                    <!--@formatter:on-->\n            </code>\n        </step>\n    </procedure>\n\n    <procedure title=\"Filter by custom conditions\" id=\"filter-by-content\">\n        <p>You can filter the content by other custom conditions.</p>\n        <p>For example, if you have content that is only relevant to\n            macOS users, you could set a filter with the OS name.</p>\n        <p>\n        Then include the content if you are publishing a Mac user\n            guide or exclude it if you are publishing a Windows user guide.\n        </p>\n\n        <step>\n            Add the <code>filter</code> attribute with\n            the value <code>macos</code> to the content elements to filter the whole element.\n            <code-block lang=\"XML\" noinject=\"true\">\n                        <![CDATA[\n                <procedure title=\"Setting up\" id=\"settings\">\n                    <step filter=\"macos\">Step one</step>\n                    <step filter=\"win\">Step two</step>\n                </procedure>\n                ]]>\n            </code-block>\n        </step>\n        <step>Or wrap the content fragment to the <code>if</code> element to filter a part of the content.\n            <code-block lang=\"XML\" noinject=\"true\">\n                <![CDATA[\n                <li>\n                    Start typing to filter results.\n                    <if filter=\"mac\">\n                        If necessary, press\n                        <shortcut>Command+F</shortcut>\n                        to clear the filtering.\n                    </if>\n                    <if filter=\"win\">\n                        If necessary, press\n                        <shortcut>Ctrl+F</shortcut>\n                        to clear the filtering.\n                    </if>\n                </li>\n                ]]>\n            </code-block>\n        </step>\n    </procedure>\n    <procedure title=\"Filter the content in the included fragment\">\n        <step>\n            <p>To include only certain parts of the original topic, use the <code>include</code> tag with\n                the <code>use-filter</code> attribute in your topic.</p>\n            <code-block lang=\"xml\"><![CDATA[\n                <include from=\"lib_settings.xml\" element-id=\"prerequisites\" use-filter=\"macos\">\n                ]]>\n            </code-block>\n        </step>\n        <step>\n            Or add the <code>include</code> element to\n            the <path>.tree</path> file of your product with the <code>use-filter</code> attribute.\n            <code-block lang=\"xml\"> <![CDATA[\n                <include from = \"toc_chunks\"\n                         target = \"settings\"\n                         use-filter = \"empty,linux\"/>\n                ]]>\n            </code-block>\n        </step>\n        <step>Use the <code>empty</code> value to add elements without a filter.\n            <code-block lang=\"xml\"><![CDATA[\n                <include from=\"lib_settings.xml\" element-id=\"settings\" use-filter=\"empty\">\n                ]]>\n            </code-block>\n        </step>\n    </procedure>\n</topic>\n
===================================================================
diff --git a/topics/Conditional_content.topic b/topics/Conditional_content.topic
--- a/topics/Conditional_content.topic	
+++ b/topics/Conditional_content.topic	
@@ -27,9 +27,9 @@
                 To exclude the element from a particular instance helps add <code>!</code> with an instance ID.
                 You can add the <code>if</code> tag to select specific portions of content that do not match tags.
             </p>
-            <code style="block" lang="XML">
-                    <!--@formatter:off-->
-                    <![CDATA[
+            <code-block lang="xml">
+                <!--@formatter:off-->
+                <![CDATA[
                         <p>
 
                         </p>
@@ -50,8 +50,8 @@
                             over the symbol.
                         </p>
                         ]]>
-                    <!--@formatter:on-->
-            </code>
+                <!--@formatter:on-->
+            </code-block>
         </step>
     </procedure>
 
Index: topics/Multiple_cursors.topic
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE topic SYSTEM \"https://resources.jetbrains.com/stardust/html-entities.dtd\">\n\n<topic xsi:noNamespaceSchemaLocation=\"https://helpserver.labs.jb.gg/help/schemas/mvp/topic.v2.xsd\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       title=\"Use multiple cursors to edit markup\"\n       id=\"Multiple_cursors\">\n    <chapter title=\"Change the width for a few images using multiple carets\" id=\"change-width-with-multicarets\">\n        <p>From this tutorial, you will learn to edit a few markup elements simultaneously using multiple carets.</p>\n        <note>Markup elements must be formatted and structured in the same way to benefit from this feature.</note>\n        <p>Let's assume you've agreed with colleagues and added an image size that displays optimally on all platforms into a style guide.\n            Now you need to change it for many images, which may be time-consuming.</p>\n        <p>In the example below, we have images for various documentation instances.</p>\n    </chapter>\n    <chapter title=\"Select multiple occurrences and edit them\" id=\"select-multiple-edit\">\n        <procedure>\n            <step>\n                Press <shortcut key=\"Find\"/> or select <ui-path>Edit | Find | Find</ui-path>. In the search pane at the top,\n                type <emphasis>img</emphasis>.\n            </step>\n            <step>Press <shortcut key=\"SelectAllOccurrences\"/> or or click\n                <control><property from-product=\"ij\" bundle=\"messages.ActionsBundle\" key=\"action.SelectAllOccurrences.text\"/></control>\n                <img style=\"inline\" src=\"icons.actions.CheckMulticaret.svg\" alt=\"Select All Occurrences\"/> on the toolbar.\n            </step>\n            <step>Edit the <emphasis>width</emphasis> attribute in a few places.\n                <img src=\"Multiple_cursors.png\" animated=\"true\" alt=\"Multiple carets\"/></step>\n        </procedure>\n    </chapter>\n        <p>\n            We've edited a few image elements simultaneously using multiple carets in this tutorial.\n        </p>\n        <p>\n        This may also be useful when you need to add or change any attribute in all markup elements in the document.\n        For example, change the border type for an image or video or the table style for a few tables in a reference.\n        </p>\n    <p>There are more ways to add and use multiple carets, read about them in the\n        <a href=\"https://www.jetbrains.com/help/idea/multicursor.html\">IntellijIDEA help.</a></p>\n</topic>\n\n
===================================================================
diff --git a/topics/Multiple_cursors.topic b/topics/Multiple_cursors.topic
--- a/topics/Multiple_cursors.topic	
+++ b/topics/Multiple_cursors.topic	
@@ -18,7 +18,7 @@
                 Press <shortcut key="Find"/> or select <ui-path>Edit | Find | Find</ui-path>. In the search pane at the top,
                 type <emphasis>img</emphasis>.
             </step>
-            <step>Press <shortcut key="SelectAllOccurrences"/> or or click
+            <step>Press <shortcut key="SelectAllOccurrences"/> or click
                 <control><property from-product="ij" bundle="messages.ActionsBundle" key="action.SelectAllOccurrences.text"/></control>
                 <img style="inline" src="icons.actions.CheckMulticaret.svg" alt="Select All Occurrences"/> on the toolbar.
             </step>
Index: topics/Make_part_of_the_content_differ.topic
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE topic SYSTEM \"https://resources.jetbrains.com/stardust/html-entities.dtd\">\n\n<topic xsi:noNamespaceSchemaLocation=\"https://helpserver.labs.jb.gg/help/schemas/mvp/topic.v2.xsd\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       title=\"Make part of the reused content differ\"\n       id=\"Make_part_of_the_content_differ\">\n     <!--Here describe four cases: first, use different product name, second,\n      use different version name, the third is how to display the warning for all products/languages except one, and use\n      the variable in the title.-->\n    <p>\n        To make the content differ in different includes, you can use variables and filters.\n    </p>\n    <procedure style=\"choices\" title=\"Refer to the instance name\">\n        <step>\n            <p>Use the <code interpolate-variables=\"false\">%instance%</code> variable in the warning content to refer to the instance name:</p>\n            <code-block interpolate-variables=\"false\" lang=\"XML\" noinject=\"true\">\n                <![CDATA[\n                <snippet id=\"generic_warning\">\n                    <warning>This version of %instance% support ended on January 14, 2021.\n                        Download the latest version.</warning>\n                </snippet>\n                ]]>\n                </code-block>\n        </step>\n    </procedure>\n    <procedure title=\"Use a variable with the version number\">\n        <step> Declare the variable inside the snippet you want to reuse.\n            <code interpolate-variables=\"false\" style=\"block\" noinject=\"true\">\n                <![CDATA[\n                <snippet id=\"generic_warning\">\n                <warning>This version of %instance% support ended on January 14, 2021.\n                Download the %latest% version.</warning>\n                </snippet>\n                ]]>\n            </code>\n        </step>\n        <step>In the target topic use the <code>var</code> tag and specify the <code>name</code> and <code>value</code> attributes.\n        <code style=\"block\" lang=\"xml\" noinject=\"true\">\n            <![CDATA[\n            <include src=\"warning_libraries.xml\"\n            include-id=\"generic_warning\">\n            <var name=\"latest\" value=\"1.7\"/>\n            ]]>\n        </code>\n        </step>\n    </procedure>\n    <procedure title=\"Display warning for all instances except one\">\n        <p>You can specify the instance to which an element should or should not display.</p>\n        <step>\n            Add the <code>instance</code> attribute to the warning tag, use ! symbol and specify the ids of the instances\n            where this warning should not be displayed.\n            <code style=\"block\" lang=\"xml\">\n                <![CDATA[\n                <warning instance=\"!sd\">This version of product support ended on January 14, 2021.\n                    Download the latest version.</warning>\n            ]]>\n            </code>\n        </step>\n        <step>You can add the <code>if</code> tag to select a specific fragment of content.\n            <code style=\"block\" lang=\"xml\" noinject=\"true\">\n                <![CDATA[\n                <warning instance=\"!sd\"><p>This version of product support ended on January 14, 2021.</p>\n                    <p if instance=\"ac\">Download the latest version <a href=\"link1\">here</a>.</p>\n                    <a if instance=\"!ac\">Download the latest version <a href=\"link2\">here</a>.</p>\n                </warning>\n                ]]>\n            </code>\n        </step>\n    </procedure>\n    <p>For more information about <a href=\"Variables.topic\">variables</a> and <a href=\"Conditional_content.topic\">filters</a>, refer to the specified sections.</p>\n</topic>\n\n
===================================================================
diff --git a/topics/Make_part_of_the_content_differ.topic b/topics/Make_part_of_the_content_differ.topic
--- a/topics/Make_part_of_the_content_differ.topic	
+++ b/topics/Make_part_of_the_content_differ.topic	
@@ -26,14 +26,14 @@
     </procedure>
     <procedure title="Use a variable with the version number">
         <step> Declare the variable inside the snippet you want to reuse.
-            <code interpolate-variables="false" style="block" noinject="true">
+            <code-block interpolate-variables="false" noinject="true">
                 <![CDATA[
                 <snippet id="generic_warning">
                 <warning>This version of %instance% support ended on January 14, 2021.
                 Download the %latest% version.</warning>
                 </snippet>
                 ]]>
-            </code>
+            </code-block>
         </step>
         <step>In the target topic use the <code>var</code> tag and specify the <code>name</code> and <code>value</code> attributes.
         <code style="block" lang="xml" noinject="true">
